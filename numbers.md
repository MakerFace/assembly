# 数字

数值通常以二元系统表示。当数字在屏幕或从键盘输入时，是 ASCII 码形式。

将输入的 ASCII 码转换为二进制进行算术运算，在转换回 ASCII 码显示，具有一定的性能开销，汇编允许以二进制形式以更有效的方式处理数字。

十进制数字有两种存储格式：

- ASCII 码
- BCD 或二进制编码的十进制(8421?)

# ASCII 码表示

十进制数字存储为 ASCII 码字符串：1234 存储为

`31H 32H 33H 34H`

ASCII 表示中有四个处理数字的指令：

- AAA：加法后的 ASCII 调整
- AAS：减法后调整
- AAM：乘法后调整
- AAD：除法后调整

这些指令不接受任何操作数，并假设操作输位于**AL 寄存器**中。

# BCD 表示

有两种类型的 BCD 表示：

- 解包 BCD 表示
- 打包 BCD 表示

## 解包 BCD 表示

每个字节存储等于十进制数的二进制数，例如 1234 存储为：
`01 02 03 04H`

处理这些数字有两条指令：

- AAM：乘法后ASCII调整
- AAD：除法后ASCII调整

> ASCII 码调整指令 AAA, AAS, AAM, AAD 也可以和解包 BCD 一起时候。

## 打包的 BCD 表示(8421)

每个数字使用 4 位存储，两个十进制数打包成一个字节，例如 1234 存储为：
`12 34H`

处理这些数字有两条指令：

- DAA：执行加法后十进制数调整
- DAS：减法后十进制数调整

不支持乘除法。

# 多位加法，乘法进位问题

12345+54321
```assembly
  mov esi, 4
  mov ecx, 5
label:
  mov al, [num1+esi]
  adc al, [num2+esi] ; adc处理进位的加法
  aaa                ; 加法后调整
  pushf              ; 标志寄存器压栈
  or  al, 0x30h
  popf               ; 标志位回复到标志寄存器
  mov [sum+esi], al
  dec esi
  loop label
```